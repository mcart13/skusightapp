import{j as e}from"./index-C_P7ACqV.js";import{u as S,L as o}from"./components-DBQK_h67.js";import{P as v,B as l,C as x,b as d,T as a,c as k}from"./Page-D9F0KSCl.js";import{B as T}from"./Banner-CEqXrZgB.js";import{L as h}from"./Layout-Dcg5LYDO.js";import{D as b}from"./DataTable-CantQMvG.js";import"./context-CISPVU1J.js";import"./banner-context-B9x05WVp.js";import"./Sticky-BQppF5j9.js";function L(){var u,m,g;const{products:p}=S(),f=(t,s)=>t<10?"Order soon":t<20?"Monitor closely":"Stock sufficient",c=((g=(m=(u=p==null?void 0:p.data)==null?void 0:u.products)==null?void 0:m.edges)==null?void 0:g.map(({node:t})=>{var r;const s=(r=t.variants.edges[0])==null?void 0:r.node,i=(s==null?void 0:s.inventoryQuantity)||0;return[t.title,i,`$${(s==null?void 0:s.price)||0}`,f(i)]}))||[],y=t=>{const s=[],i=t.filter(n=>n[1]===0);i.length>0&&s.push({title:`${i.length} products out of stock`,status:"critical",message:`The following products need immediate attention: ${i.map(n=>n[0]).join(", ")}`,actionText:"Restock Now",actionUrl:"/app/order-automation"});const r=t.filter(n=>n[3]==="Order soon"&&n[1]>0);if(r.length>0&&s.push({title:`${r.length} products need reordering soon`,status:"warning",message:`Based on current sales velocity, consider reordering: ${r.map(n=>n[0]).join(", ")}`,actionText:"View Analysis",actionUrl:"/app/sales-analysis"}),t.length>0){const n=t[Math.floor(Math.random()*t.length)];s.push({title:`Sales trend detected for ${n[0]}`,status:"info",message:`Sales of ${n[0]} are acceleratingâ€”consider restocking sooner than initially planned. Recent data shows a 25% increase in sales velocity.`,actionText:"Review Trend",actionUrl:"/app/sales-analysis"})}const j=t.filter(n=>n[0].includes("Snowboard"));return j.length>0&&s.push({title:"Seasonal spike predicted for winter products",status:"attention",message:`Your holiday bestsellers (${j.map(n=>n[0]).join(", ")}) are predicted to run out 2 weeks earlier than usual based on historical seasonal patterns.`,actionText:"Prepare for Season",actionUrl:"/app/seasonal-planning"}),s};return e.jsxs(v,{title:"SkuSight Inventory Predictions",primaryAction:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx(o,{to:"/app/notifications",children:e.jsx(l,{children:"Notification Center"})}),e.jsx(o,{to:"/app/dashboard",children:e.jsx(l,{children:"Visual Dashboard"})}),e.jsx(o,{to:"/app/sales-analysis",children:e.jsx(l,{children:"View Sales Analysis"})}),e.jsx(o,{to:"/app/order-automation",children:e.jsx(l,{primary:!0,children:"Automated Ordering"})})]}),children:[e.jsx("div",{style:{marginBottom:"16px"},children:y(c).map((t,s)=>e.jsx("div",{style:{marginBottom:"12px"},children:e.jsx(T,{title:t.title,status:t.status,onDismiss:()=>{},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx("p",{style:{marginRight:"12px"},children:t.message}),e.jsx("div",{children:e.jsx(o,{to:t.actionUrl,children:e.jsx(l,{children:t.actionText})})})]})})},s))}),e.jsxs(h,{children:[e.jsx(h.Section,{children:e.jsx(x,{children:e.jsxs(d,{gap:"400",children:[e.jsx(a,{as:"h2",variant:"headingMd",children:"Inventory Summary"}),e.jsxs(d,{gap:"200",children:[e.jsxs(a,{children:["Total Products: ",c.length]}),e.jsxs(a,{children:["Products Needing Attention: ",c.filter(t=>t[3]==="Order soon").length]}),e.jsxs(a,{children:["Last Updated: ",new Date().toLocaleString()]})]})]})})}),e.jsx(h.Section,{children:e.jsx(x,{children:e.jsxs(d,{gap:"500",children:[e.jsx(a,{as:"h2",variant:"headingMd",children:"Current Inventory Status"}),e.jsx(b,{columnContentTypes:["text","numeric","numeric","text"],headings:["Product","Current Stock","Price","Restock Recommendation"],rows:c})]})})}),e.jsx(h.Section,{children:e.jsx(x,{children:e.jsxs(d,{gap:"500",children:[e.jsx(a,{as:"h2",variant:"headingMd",children:"Inventory Health Overview"}),e.jsx(d,{gap:"400",children:c.map((t,s)=>{let i="success",r="Healthy";return t[1]===0?(i="critical",r="Out of Stock"):t[3]==="Order soon"?(i="warning",r="Reorder Now"):t[3]==="Monitor closely"&&(i="attention",r="Monitor"),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx(a,{variant:"bodyMd",children:t[0]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(k,{status:i,children:r}),(i==="warning"||i==="critical")&&e.jsx(o,{to:"/app/order-automation",children:e.jsx(l,{size:"slim",children:"Reorder"})})]})]},s)})})]})})})]})]})}export{L as default};
