import{j as t}from"./index-C_P7ACqV.js";import{u as v,L as b}from"./components-DBQK_h67.js";import{P as w,C as g,b as d,T as e,c as l,B as S}from"./Page-D9F0KSCl.js";import{L as p}from"./Layout-Dcg5LYDO.js";import{P as k}from"./ProgressBar-DyqsZugm.js";import"./context-CISPVU1J.js";import"./CSSTransition-BI2FqCs3.js";function A(){const{products:u}=v(),a=u.edges.map(({node:s})=>{var m;const n=(m=s.variants.edges[0])==null?void 0:m.node,r=(n==null?void 0:n.inventoryQuantity)||0,f=Math.random()*3+.5,y=r>0?Math.ceil(r/f):0;let h="success",x="Healthy";return r===0?(h="critical",x="Out of Stock"):y<7?(h="warning",x="Low Stock"):y<14&&(h="attention",x="Monitor"),{id:s.id,title:s.title,currentStock:r,avgDailySales:f,daysOfSupply:y,status:h,statusLabel:x,price:(n==null?void 0:n.price)||0}});a.sort((s,n)=>{const r={critical:3,warning:2,attention:1,success:0};return r[n.status]-r[s.status]});const i={critical:a.filter(s=>s.status==="critical").length,warning:a.filter(s=>s.status==="warning").length,attention:a.filter(s=>s.status==="attention").length,success:a.filter(s=>s.status==="success").length},o=a.length,c={critical:i.critical/o*100,warning:i.warning/o*100,attention:i.attention/o*100,success:i.success/o*100},j=a.filter(s=>s.status==="critical"||s.status==="warning");return t.jsx(w,{title:"Visual Inventory Dashboard",backAction:{content:"Main Dashboard",url:"/app"},children:t.jsxs(p,{children:[t.jsx(p.Section,{children:t.jsx(g,{children:t.jsxs(d,{gap:"500",children:[t.jsx(e,{as:"h2",variant:"headingMd",children:"Inventory Health Overview"}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[t.jsx("div",{style:{flex:1},children:t.jsxs("div",{style:{height:"24px",display:"flex",borderRadius:"3px",overflow:"hidden"},children:[t.jsx("div",{style:{width:`${c.critical}%`,backgroundColor:"#DE3618"}}),t.jsx("div",{style:{width:`${c.warning}%`,backgroundColor:"#EEC200"}}),t.jsx("div",{style:{width:`${c.attention}%`,backgroundColor:"#9C6ADE"}}),t.jsx("div",{style:{width:`${c.success}%`,backgroundColor:"#108043"}})]})}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx(l,{status:"critical",children:i.critical}),t.jsx(l,{status:"warning",children:i.warning}),t.jsx(l,{status:"attention",children:i.attention}),t.jsx(l,{status:"success",children:i.success})]})]}),t.jsxs(e,{children:[i.critical+i.warning," products need attention"]})]})})}),t.jsx(p.Section,{children:t.jsx(g,{children:t.jsxs(d,{gap:"500",children:[t.jsx(e,{as:"h2",variant:"headingMd",children:"Priority Actions"}),j.length>0?t.jsx(d,{gap:"400",children:j.map(s=>t.jsxs("div",{style:{padding:"12px",backgroundColor:s.status==="critical"?"#FFF4F4":"#FFFBEA",borderRadius:"4px",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{children:[t.jsx(e,{variant:"headingSm",children:s.title}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[t.jsx(l,{status:s.status,children:s.statusLabel}),t.jsx(e,{variant:"bodySm",children:s.daysOfSupply===0?"Currently out of stock":`${s.daysOfSupply} days of inventory left`})]})]}),t.jsx(b,{to:"/app/order-automation",children:t.jsx(S,{primary:s.status==="critical",children:s.status==="critical"?"Restock Now":"Reorder"})})]}),s.daysOfSupply>0&&t.jsxs("div",{style:{marginTop:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[t.jsx(e,{variant:"bodySm",children:"Inventory Timeline"}),t.jsxs(e,{variant:"bodySm",children:[s.daysOfSupply," days"]})]}),t.jsx(k,{progress:Math.min(100,s.daysOfSupply/30*100),size:"small",color:s.status==="critical"?"critical":"warning"})]})]},s.id))}):t.jsx(e,{children:"All products have healthy inventory levels"})]})})}),t.jsx(p.Section,{children:t.jsx(g,{children:t.jsxs(d,{gap:"500",children:[t.jsx(e,{as:"h2",variant:"headingMd",children:"Inventory Timeline Visualization"}),t.jsx(d,{gap:"400",children:a.map(s=>t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsx(e,{variant:"bodyMd",children:s.title}),t.jsx(l,{status:s.status,children:s.statusLabel})]}),t.jsxs("div",{style:{position:"relative",height:"32px",background:"#F4F6F8",borderRadius:"3px"},children:[t.jsx("div",{style:{position:"absolute",left:"25%",top:0,height:"100%",borderLeft:"1px dashed #637381",paddingLeft:"4px"},children:t.jsx(e,{variant:"bodySm",color:"subdued",children:"7d"})}),t.jsx("div",{style:{position:"absolute",left:"50%",top:0,height:"100%",borderLeft:"1px dashed #637381",paddingLeft:"4px"},children:t.jsx(e,{variant:"bodySm",color:"subdued",children:"14d"})}),t.jsx("div",{style:{position:"absolute",left:"75%",top:0,height:"100%",borderLeft:"1px dashed #637381",paddingLeft:"4px"},children:t.jsx(e,{variant:"bodySm",color:"subdued",children:"21d"})}),t.jsx("div",{style:{position:"absolute",left:0,top:"6px",height:"20px",width:`${Math.min(100,s.daysOfSupply/30*100)}%`,background:F(s.status),borderRadius:"2px"}}),s.daysOfSupply<30&&t.jsx("div",{style:{position:"absolute",left:`${Math.min(100,s.daysOfSupply/30*100)}%`,top:0,height:"32px",width:"2px",background:"#DE3618"}})]})]},s.id))})]})})})]})})}function F(u){switch(u){case"critical":return"#FADBD7";case"warning":return"#FFEB99";case"attention":return"#E4D6FF";case"success":return"#AEE9AF";default:return"#AEE9AF"}}export{A as default};
